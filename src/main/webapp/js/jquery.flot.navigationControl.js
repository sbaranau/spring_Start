(function(n){function init(i){n.extend(i.getOptions(),t,!0);i.hooks.draw.push(drawNavigationControl);i.hooks.shutdown.push(shutdown)}function drawNavigationControl(i){var f=i.getOptions().navigationControlDisplay?i.getOptions().navigationControlDisplay:"none",e="<div id='navigation-control' style='width: 0; height: 0; left: "+t.navigationControl.position.left+"; top: "+t.navigationControl.position.top+"; position: absolute; display: "+f+";'>Control<\/div>",r="",u=i.getPlaceholder();n("#navigation-control").remove();n(e).html(r+"<div id='zoom-in' style='box-sizing: border-box; position: absolute; left: 29px; top: 0; height: 28px; width: 28px; border: solid 1px #666;  padding: 0; line-height: 28px; border-radius: 5px; cursor: pointer; vertical-align: middle; background-color: #f5f5f5; display: inline-block; text-align: center; -webkit-box-shadow: 0 0 4px rgba(0, 0, 0, 0.15); box-shadow: 0 0 4px rgba(0, 0, 0, 0.15); text-shadow: 1px 1px 5px rgba(100, 100, 100, 0.75);'><div><span class='helper'><\/span><span class='icon' style='font-size: normal; color: #666;'>+<\/span><\/div><\/div>"+r+r+"<div id='pan-up' style='box-sizing: border-box; position: absolute; left: 29px; top: 29px; height: 28px; width: 28px; border: solid 1px #666;  padding: 0; line-height: 28px; border-radius: 5px; cursor: pointer; vertical-align: middle; background-color: #f5f5f5; display: inline-block; text-align: center; -webkit-box-shadow: 0 0 4px rgba(0, 0, 0, 0.15); box-shadow: 0 0 4px rgba(0, 0, 0, 0.15); text-shadow: 1px 1px 5px rgba(100, 100, 100, 0.75);'><div><span class='helper'><\/span><span class='icon' style='font-size: normal; color: #666;'>↑<\/span><\/div><\/div>"+r+"<div id='pan-left' style='box-sizing: border-box; position: absolute; left: 0; top: 58px; height: 28px; width: 28px; border: solid 1px #666;  padding: 0; line-height: 28px; border-radius: 5px; cursor: pointer; vertical-align: middle; background-color: #f5f5f5; display: inline-block; text-align: center; -webkit-box-shadow: 0 0 4px rgba(0, 0, 0, 0.15); box-shadow: 0 0 4px rgba(0, 0, 0, 0.15); text-shadow: 1px 1px 5px rgba(100, 100, 100, 0.75);'><div><span class='helper'><\/span><span class='icon' style='font-size: normal; color: #666;'>←<\/span><\/div><\/div><div id='zoom-home' style='box-sizing: border-box; position: absolute; left: 29px; top: 58px; height: 28px; width: 28px; border: solid 1px #666;  padding: 0; line-height: 28px; border-radius: 5px; cursor: pointer; vertical-align: middle; background-color: #f5f5f5; display: inline-block; text-align: center; -webkit-box-shadow: 0 0 4px rgba(0, 0, 0, 0.15); box-shadow: 0 0 4px rgba(0, 0, 0, 0.15); text-shadow: 1px 1px 5px rgba(100, 100, 100, 0.75);'><div><span class='helper'><\/span><span class='icon' style='font-size: normal; color: #666;'>⌂<\/span><\/div><\/div><div id='pan-right' style='box-sizing: border-box; position: absolute; left: 58px; top: 58px; height: 28px; width: 28px; border: solid 1px #666;  padding: 0; line-height: 28px; border-radius: 5px; cursor: pointer; vertical-align: middle; background-color: #f5f5f5; display: inline-block; text-align: center; -webkit-box-shadow: 0 0 4px rgba(0, 0, 0, 0.15); box-shadow: 0 0 4px rgba(0, 0, 0, 0.15); text-shadow: 1px 1px 5px rgba(100, 100, 100, 0.75);'><div><span class='helper'><\/span><span class='icon' style='font-size: normal; color: #666;'>→<\/span><\/div><\/div>"+r+"<div id='pan-down' style='box-sizing: border-box; position: absolute; left: 29px; top: 87px; height: 28px; width: 28px; border: solid 1px #666;  padding: 0; line-height: 28px; border-radius: 5px; cursor: pointer; vertical-align: middle; background-color: #f5f5f5; display: inline-block; text-align: center; -webkit-box-shadow: 0 0 4px rgba(0, 0, 0, 0.15); box-shadow: 0 0 4px rgba(0, 0, 0, 0.15); text-shadow: 1px 1px 5px rgba(100, 100, 100, 0.75);'><div><span class='helper'><\/span><span class='icon' style='font-size: normal; color: #666;'>↓<\/span><\/div><\/div>"+r+r+"<div id='zoom-out' style='box-sizing: border-box; position: absolute; left: 29px; top: 116px; height: 28px; width: 28px; border: solid 1px #666;  padding: 0; line-height: 28px; border-radius: 5px; cursor: pointer; vertical-align: middle; background-color: #f5f5f5; display: inline-block; text-align: center; -webkit-box-shadow: 0 0 4px rgba(0, 0, 0, 0.15); box-shadow: 0 0 4px rgba(0, 0, 0, 0.15); text-shadow: 1px 1px 5px rgba(100, 100, 100, 0.75);'><div><span class='helper'><\/span><span class='icon' style='font-size: normal; color: #666;'>-<\/span><\/div><\/div>"+r).appendTo(u);n("#navigation-control span.helper").css({display:"inline-block",height:"100%","vertical-align":"middle",position:"relative"});u.find("#zoom-in").click(function(){zoomIn(i)});u.find("#zoom-out").click(function(){zoomOut(i)});u.find("#zoom-home").click(function(){zoomHome(i)});u.find("#pan-up").click(function(){panUp(i)});u.find("#pan-right").click(function(){panRight(i)});u.find("#pan-down").click(function(){panDown(i)});u.find("#pan-left").click(function(){panLeft(i)})}function shutdown(n){var t=n.getPlaceholder();t.find("#zoom-in").unbind("click");t.find("#zoom-out").unbind("click");t.find("#zoom-home").unbind("click");t.find("#pan-up").unbind("click");t.find("#pan-right").unbind("click");t.find("#pan-down").unbind("click");t.find("#pan-left").unbind("click");t.find("#navigation-control").remove()}function zoomIn(n){var t=n.getOptions(),i=t.xaxis,r=t.yaxis,u=n.p2c({x:(i.min+i.max)/2,y:(r.min+r.max)/2});n.zoom({amount:t.navigationControl.zoomAmount,center:u})}function zoomOut(n){var t=n.getOptions(),i=t.xaxis,r=t.yaxis,u=n.p2c({x:(i.min+i.max)/2,y:(r.min+r.max)/2});n.zoomOut({amount:t.navigationControl.zoomAmount,center:u})}function zoomHome(n){var i=n.getAxes(),r=i.xaxis,u=i.yaxis;r.options.min=t.navigationControl.homeRange.xmin;r.options.max=t.navigationControl.homeRange.xmax;u.options.min=t.navigationControl.homeRange.ymin;u.options.max=t.navigationControl.homeRange.ymax;n.setupGrid();n.draw()}function panUp(n){n.pan({top:-t.navigationControl.panAmount})}function panRight(n){n.pan({left:t.navigationControl.panAmount})}function panDown(n){n.pan({top:t.navigationControl.panAmount})}function panLeft(n){n.pan({left:-t.navigationControl.panAmount})}var t={navigationControl:{homeRange:{xmin:-10,xmax:10,ymin:-10,ymax:10},panAmount:100,zoomAmount:1.5,position:{left:"20px",top:"45px"}}};n.plot.plugins.push({init:init,options:t,name:"navigationControl",version:"0.1"})})(jQuery)